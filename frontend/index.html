<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome - Shop</title>

  <!-- Styles -->
  <link rel="stylesheet" href="/styles/variables.css">
  <link rel="stylesheet" href="/styles/reset.css">
  <link rel="stylesheet" href="/styles/typography.css">
  <link rel="stylesheet" href="/styles/components.css">
  <link rel="stylesheet" href="/styles/layout.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container header-content">
      <a href="/index.html" class="logo">Shop</a>

      <nav class="nav">
        <ul class="nav-list">
          <li><a href="/modules/catalog/presentation/pages/catalog.html" class="nav-link">Products</a></li>
          <li><a href="/modules/cart/presentation/pages/cart.html" class="nav-link">Cart</a></li>
        </ul>
      </nav>

      <div class="header-actions">
        <div id="cart-badge-container"></div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main">
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title">Welcome to Our Shop</h1>
          <p class="hero-description">
            Discover amazing products at great prices. Browse our catalog and find exactly what you're looking for.
          </p>
          <div class="hero-actions">
            <a href="/modules/catalog/presentation/pages/catalog.html" class="btn btn-primary btn-large">Browse Products</a>
            <a href="/modules/catalog/presentation/pages/catalog.html" class="btn btn-secondary btn-large">View Categories</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features section">
      <div class="container">
        <h2 class="section-title">Why Shop With Us?</h2>
        <div class="grid grid-cols-1 gap-base">
          <div class="card feature-card">
            <div class="feature-icon">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                <line x1="12" y1="22.08" x2="12" y2="12"></line>
              </svg>
            </div>
            <h3 class="feature-title">Quality Products</h3>
            <p class="feature-description">We offer only the best products from trusted manufacturers worldwide.</p>
          </div>

          <div class="card feature-card">
            <div class="feature-icon">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="1" y="3" width="15" height="13"></rect>
                <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon>
                <circle cx="5.5" cy="18.5" r="2.5"></circle>
                <circle cx="18.5" cy="18.5" r="2.5"></circle>
              </svg>
            </div>
            <h3 class="feature-title">Fast Shipping</h3>
            <p class="feature-description">Get your orders delivered quickly with our reliable shipping partners.</p>
          </div>

          <div class="card feature-card">
            <div class="feature-icon">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
              </svg>
            </div>
            <h3 class="feature-title">Secure Payments</h3>
            <p class="feature-description">Your transactions are protected with industry-standard security.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3 class="footer-title">Shop</h3>
          <p class="body-small text-muted">Your one-stop shop for quality products.</p>
        </div>

        <div class="footer-section">
          <h3 class="footer-title">Quick Links</h3>
          <ul class="footer-links">
            <li><a href="/modules/catalog/presentation/pages/catalog.html" class="footer-link">Products</a></li>
            <li><a href="/modules/cart/presentation/pages/cart.html" class="footer-link">Cart</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2026 Shop. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Cart Handler (global) -->
  <script type="module" src="/core/cart-handler.js"></script>

  <!-- Cart Badge Script -->
  <script type="module">
    import eventBus from '/core/event-bus.js';

    const container = document.getElementById('cart-badge-container');

    eventBus.subscribe('cart:count-updated', (data) => {
      updateCartBadge(data.count);
    });

    // Request cart count from cart module
    eventBus.publish('cart:request-count');

    function updateCartBadge(count) {
      container.innerHTML = `
        <a href="/modules/cart/presentation/pages/cart.html" class="btn btn-ghost btn-icon cart-badge" style="position: relative;">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="9" cy="21" r="1"></circle>
            <circle cx="20" cy="21" r="1"></circle>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
          </svg>
          ${count > 0 ? `<span class="cart-badge-count">${count}</span>` : ''}
        </a>
      `;
    }
  </script>

  <style>
    /* Hero Section */
    .hero {
      padding: var(--spacing-4xl) 0;
      text-align: center;
    }

    .hero-content {
      max-width: 800px;
      margin: 0 auto;
    }

    .hero-title {
      font-size: var(--font-size-h1);
      margin-bottom: var(--spacing-lg);
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-description {
      font-size: var(--font-size-body-large);
      color: var(--color-text-secondary);
      margin-bottom: var(--spacing-2xl);
      line-height: var(--line-height-relaxed);
    }

    .hero-actions {
      display: flex;
      gap: var(--spacing-base);
      justify-content: center;
      flex-wrap: wrap;
    }

    /* Features Section */
    .features {
      background-color: var(--color-bg-secondary);
    }

    .feature-card {
      padding: var(--spacing-xl);
      text-align: center;
      transition: transform var(--duration-base) var(--easing-default);
    }

    .feature-card:hover {
      transform: translateY(-4px);
    }

    .feature-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 80px;
      height: 80px;
      margin-bottom: var(--spacing-base);
      background: var(--color-bg-tertiary);
      border-radius: var(--radius-full);
      color: var(--color-accent-primary);
    }

    .feature-title {
      font-size: var(--font-size-h3);
      margin-bottom: var(--spacing-sm);
    }

    .feature-description {
      color: var(--color-text-muted);
    }

    @media (min-width: 768px) {
      .features .grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    /* Cart Badge */
    .cart-badge {
      position: relative;
    }

    .cart-badge-count {
      position: absolute;
      top: -4px;
      right: -4px;
      min-width: 18px;
      height: 18px;
      padding: 0 4px;
      background-color: var(--color-accent-primary);
      color: var(--color-text-primary);
      font-size: 11px;
      font-weight: var(--font-weight-bold);
      line-height: 18px;
      text-align: center;
      border-radius: var(--radius-full);
    }
  </style>
</body>
</html>
